<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Snake game</title>
</head>
<body>
<!-- Create the map of game -->
<!-- Creando el mapa de juego -->
  <canvas id="canvas" width="350" height="350" style="border: 1px solid #000;"></canvas>
  <div>
    <input id="txtButton" readonly="true" style="width: 140px;" type="text">
    <input id="txtState" readonly="true" style="width: 140px;" type="text">
  </div>

<script>
  
class Game{
  Snake=[];
  director=null;
  direction=2;
  sizeSquare=10;
  canvas=null;

  constructor(txtButton, txtState, canvas){
    this.txtButton=txtButton;
    this.txtState=txtState;
    this.canvas=canvas;

    this.ctx=this.canvas.getContext("2d");
  }

// Inicializador del juego
  Init(){
    this.PrintState("Inicia");

    let square= new Objeto();
    squere.X=15;
    squere.Y=15;
    this.Snake.push(square);

    this.director= setInterval(()=>{
      this.Next();
      this.Show();
    },300)
  }

  Next(){
    this.PrintState("Mueve: "+ this.direction);
    switch (this.direction) {
      case 1:
        this.Snake[0].Y--;
      break;
      case 2:
        this.Snake[0].X++;
      break;
      case 1:
        this.Snake[0].Y++;
      break;
      case 1:
        this.Snake[0].X--;
      break;
    }
  }

  Show(){
    this.ctx.clearReact(0,0,this.canvas.width, this.canvas.height);

    this.Snake.map(function(square){
      this.ctx.fillStyle="black";
      this.ctx.fillReact(square.X * this.sizeSquare, square.Y * this.sizeSquare, this.sizeSquare, this.sizeSquare);
    })

  }

  PrintState(text){
    this.txtState.value=text;
  }

  PrintKey(text){
    this.txtButton.value=text;
  }


}

var oGame= new Game(txtButton, txtState, canvas);
oGame.Init();

</script>
  
</body>
</html>